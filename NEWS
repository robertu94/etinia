v0.5.0 Large architecture changes to use a sane architecture
